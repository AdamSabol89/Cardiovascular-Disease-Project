?unstack
?unstack.data.frame
?spread
colnames(bmi_data)
?keep
?subset
male_bmi <- bmi_data %>% subset(bmi_data$Sex == 'Men', c("Country.Region.World","Sex","Year","Mean.BMI","Prevalence.of.BMI..30.kg.m²..obesity.","Prevalence.of.BMI..35.kg.m²..severe.obesity.") )
View(male_bmi)
female_bmi <- bmi_data %>% subset(bmi_data$Sex == 'Women', c("Country.Region.World","Sex","Year","Mean.BMI","Prevalence.of.BMI..30.kg.m²..obesity.","Prevalence.of.BMI..35.kg.m²..severe.obesity.") )
?merge
View(cardiovasc_deaths)
?mean
?rowMeans
rowMeans(c(male_bmi$Mean.BMI, female_bmi$Mean.BMI))
rowMeans(male_bmi$Mean.BMI, female_bmi$Mean.BMI)
?append
(male_bmi$Mean.BMI + female_bmi$Mean.BMI)/2)
male_bmi$Mean.BMI + female_bmi$Mean.BMI)/2)
(male_bmi$Mean.BMI + female_bmi$Mean.BMI)/2
tbl((male_bmi$Mean.BMI + female_bmi$Mean.BMI)/2))
tbl(male_bmi$Mean.BMI + female_bmi$Mean.BMI)/2)
tbl_df(male_bmi$Mean.BMI + female_bmi$Mean.BMI)/2)
(male_bmi[,3] + female_bmi[,3])/2
cum_bmi <- data.frame(Entity = male_bmi$Country.Region.World, Year = male_bmi$Year, mean_bmi = (male_bmi[,4] + female_bmi[,4])/2, obesity = (male_bmi[,5] + female_bmi[,5])/2, severe_obesity = (male_bmi[,6] + female_bmi[,6])/2)
View(male_bmi)
View(cum_bmi)
gdp_data <- read.csv("gdp-per-capita-worldbank.csv")
gini_data <- read.csv("economic-inequality-gini-index.csv")
View(gdp_data)
gdp_data <- gdp_data %>% filter(Year > 1989)
gini_data <- gini_data %>% filter(Year > 1989 )
?merge
?left_join
bmi_data <- read.csv("NCD_RisC_Lancet_2017_BMI_age_standardised_country.csv")
final_data <- left_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
gini_data <- gini_data %>% subset(-Code)
gini_data <- gini_data %>% subset(- Code)
?select
?subset
gini_data$Code <- NULL
gdp_data$Code <- NULL
colnames(gini_data)
gini_data %>%
rename("GINI.index..World.Bank.estimate." = "GINI")
names(gini_data)
names(gini_data)[3] <- 'GINI'
View(gini_data)
gini_data <- read.csv("economic-inequality-gini-index.csv")
gdp_data$Code <- NULL
gini_data$Code <- NULL
names(gini_data)[3] <- 'GINI'
names(gdp_data)[3] <- 'GINI'
final_data <- left_join(final_data, gdp_data, c("Entity", "Year"))
final_data <- left_join(final_data, gini_data, c("Entity", "Year"))
View(final_data)
?rm
rm(final_data)
names(gdp_data)[3] <- 'GDP'
final_data <- left_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
final_data <- left_join(final_data, gdp_data, c("Entity", "Year"))
final_data <- left_join(final_data, gini_data, c("Entity", "Year"))
View(cardiovasc_deaths)
View(cum_bmi)
cardiovasc_deaths <- read.csv("cardiovascular-disease-death-rates.csv")
bmi_data <- read.csv("NCD_RisC_Lancet_2017_BMI_age_standardised_country.csv")
gdp_data <- read.csv("gdp-per-capita-worldbank.csv")
gini_data <- read.csv("economic-inequality-gini-index.csv")
View(bmi_data)
unique(bmi_data$Country.Region.World)
bmi_data$Country.Region.World %>%
unique() %>%
length()
cardiovasc_deaths$Entity %>%
unique() %>%
length()
gdp_data$Entity %>%
unique() %>%
length()
gini_data$Entity %>%
unique() %>%
length()
cardiovasc_deaths <- read.csv("cardiovascular-disease-death-rates.csv")
bmi_data <- read.csv("NCD_RisC_Lancet_2017_BMI_age_standardised_country.csv")
gdp_data <- read.csv("gdp-per-capita-worldbank.csv")
gini_data <- read.csv("economic-inequality-gini-index.csv")
bmi_data <- bmi_data %>%
filter(Year > 1989)
gdp_data <- gdp_data %>%
filter(Year > 1989)
gini_data <- gini_data %>%
filter(Year > 1989 )
cardiovasc_deaths <- cardiovasc_deaths %>%
filter(Year <2017)
cardiovasc_deaths <- read.csv("cardiovascular-disease-death-rates.csv")
bmi_data <- read.csv("NCD_RisC_Lancet_2017_BMI_age_standardised_country.csv")
gdp_data <- read.csv("gdp-per-capita-worldbank.csv")
gini_data <- read.csv("economic-inequality-gini-index.csv")
bmi_data <- bmi_data %>%
filter(Year > 1989)
gdp_data <- gdp_data %>%
filter(Year > 1989)
gini_data <- gini_data %>%
filter(Year > 1989 )
cardiovasc_deaths <- cardiovasc_deaths %>%
filter(Year <2017)
male_bmi <- bmi_data %>%
subset(bmi_data$Sex == 'Men', c("Country.Region.World","Sex","Year","Mean.BMI","Prevalence.of.BMI..30.kg.m²..obesity.","Prevalence.of.BMI..35.kg.m²..severe.obesity.") )
female_bmi <- bmi_data %>%
subset(bmi_data$Sex == 'Women', c("Country.Region.World","Sex","Year","Mean.BMI","Prevalence.of.BMI..30.kg.m²..obesity.","Prevalence.of.BMI..35.kg.m²..severe.obesity.") )
cum_bmi <- data.frame(Entity = male_bmi$Country.Region.World, Year = male_bmi$Year, mean_bmi = (male_bmi[,4] + female_bmi[,4])/2, obesity = (male_bmi[,5] + female_bmi[,5])/2, severe_obesity = (male_bmi[,6] + female_bmi[,6])/2)
gini_data$Code <- NULL
gdp_data$Code <- NULL
names(gini_data)[3] <- 'GINI'
names(gdp_data)[3] <- 'GDP'
final_data <- inner_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
final_data <- left_join(final_data, gdp_data, c("Entity", "Year"))
final_data <- left_join(final_data, gini_data, c("Entity", "Year"))
View(final_data)
#EDA
final_data$GDP %>%
is_null %>%
length()
final_data$GDP %>%
is.na() %>%
length()
#EDA
final_data$GDP %>%
is.na()
final_data$GDP %>%
is.na() %>%
mean()
final_data <- inner_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
final_data <- inner_join(final_data, gdp_data, c("Entity", "Year"))
final_data <- left_join(final_data, gini_data, c("Entity", "Year"))
final_data$GINI %>%
is.na() %>%
mean()
final_data$GINI <- NULL
final_data %>%
write.csv("final_data")
final_data %>%
write.csv("final_data.csv")
names(cardiovasc_deaths)[4] <- 'cardiovasc_deaths'
final_data <- inner_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
final_data <- inner_join(final_data, gdp_data, c("Entity", "Year"))
final_data <- left_join(final_data, gini_data, c("Entity", "Year"))
final_data$GINI <- NULL
final_data %>%
write.csv("final_data.csv")
final_data %>%
write.csv("final_data.csv")
plot(final_data$severe_obesity, final_data$cardiovasc_deaths)
corr(final_data$severe_obesity, final_data$cardiovasc_deaths)
correlation(final_data$severe_obesity, final_data$cardiovasc_deaths)
cor(final_data$severe_obesity, final_data$cardiovasc_deaths)
cor(final_data$obesity, final_data$cardiovasc_deaths)
install.packages(plm)
install.packages("plm", dependencies = FALSE)
library(ggplot2)
library(tidyr)
library(plm)
install.packages("plm")
library(ggplot2)
library(tidyr)
library(plm)
?plm
ggplot( data = final_data,
aes(x = Year, y = cardiovasc_deaths)) +
geom_line()
ggplot( final_data,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line()
final_data %>%
group_by(Entity)
obesity_rates <- final_data %>%
group_by(Entity) %>%
mean(obesity_rates)
final_data %>%
group_by(Entity) %>%
mean(obesity_rates)
obesity_rates <- final_data %>%
group_by(Entity) %>%
mean(obesity)
obesity_rates <- final_data %>%
group_by(Entity) %>%
summarise(mean(obesity))
View(obesity_rates)
ggplot(obesity_rates,
aes(Entity, mean(obesity)))+
geom_point()
names(obesity_rates)[2] <- "obesity_rate"
ggplot(obesity_rates,
aes(Entity,obesity_rate))+
geom_point()
grouped_rates <- final_data %>%
group_by(Entity) %>%
summarise(obesity_rate = mean(obesity), cardio_death_rate = mean(cardiovasc_deaths))
View(grouped_rates)
ggplot(grouped_rates,
aes(obesity_rate, cardio_death_rate))+
geom_point()
grouped_rates <- final_data %>%
group_by(Entity) %>%
summarise(obesity_rate = mean(obesity), cardio_death_rate = mean(cardiovasc_deaths), sev_obesity_rate = mean(severe_obesity))
ggplot(grouped_rates,
aes(sev_obesity_rate, cardio_death_rate))+
geom_point()
ggplot(grouped_rates,
aes(sev_obesity_rate, obesity_rate))+
geom_point()
summarise(obesity_rate = mean(obesity), cardio_death_rate = mean(cardiovasc_deaths), sev_obesity_rate = mean(severe_obesity), gdp_country =mean(GDP))
grouped_rates <- final_data %>%
group_by(Entity) %>%
summarise(obesity_rate = mean(obesity), cardio_death_rate = mean(cardiovasc_deaths), sev_obesity_rate = mean(severe_obesity), gdp_country =mean(GDP))
ggplot(grouped_rates,
aes(sev_obesity_rate, gdp_country))+
geom_point()
ggplot(grouped_rates,
aes(obesity_rates, gdp_country))+
geom_point()
ggplot(grouped_rates,
aes(obesity_rate, gdp_country))+
geom_point()
year_2010 <- final_data %>%
filter( Year = 2010)
year_2010 <- final_data %>%
filter( Year == 2010)
ggplot(year_2010,
aes(obesity, cardiovasc_deaths ))+
geom_point()
ggplot(year_2010,
aes(mean_bmi, cardiovasc_deaths ))+
geom_point()
year_2010[order(GDP)]
year_2010[order(GDP),]
year_2010[order("GDP"),]
year_2010 <- year_2010[order("GDP"),]
View(year_2010)
year_2010 <- final_data %>%
filter( Year == 2010)
year_2010[order(year_2010$GDP),]
year_2010[order-(year_2010$GDP),]
year_2010[order(-year_2010$GDP),]
first(year_2010)
?first
n(year_2010, 10)
n(year_2010, 10)
?n
ggplot(year_2010[1:10,],
aes(mean_bmi, cardiovasc_deaths ))+
geom_point()
ggplot(year_2010[1:20,],
aes(mean_bmi, cardiovasc_deaths ))+
geom_point()
ggplot(year_2010[1:20,],
aes(obesity, cardiovasc_deaths ))+
geom_point()
cor(year_2010$cardiovasc_deaths,year_2010$cardiovasc_deaths)
cor(year_2010$cardiovasc_deaths,year_2010$obesity)
cor(year_2010$cardiovasc_deaths,year_2010$GDP)
cor(year_2010$cardiovasc_deaths,year_2010$GDP)
cor(year_2010$cardiovasc_deaths,mean_bmi$GDP)
cor(year_2010$cardiovasc_deaths,year_2010$mean_bmi)
final_data %>%
filter(Entity == "United States")
final_data %>%
filter(Entity == "United Kingdom")
final_data %>%
group_by(Year) %>%
arrange(desc(GDP))
final_data %>%
group_by(Year) %>%
arrange(desc(GDP)) %>%
length()
year_2010<-year_2010[order(-year_2010$GDP),]
View(year_2010)
View(gdp_data)
View(cum_bmi)
final_data %>%
group_by(Year)
grouped_rates <- final_data %>%
group_by(Entity)
final_data %>%
group_by(Entity)
final_data %>%
group_by(Year) %>%
arange(desc(GDP))
final_data %>%
group_by(Year)
View(year_2010)
year_data <- final_data %>%
group_by(Year)
View(year_data)
View(year_data)
View(final_data)
View(cardiovasc_deaths)
View(cum_bmi)
final_data <- inner_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
View(final_data)
final_data <- inner_join(final_data, gdp_data, c("Entity", "Year"))
View(gdp_data)
final_data <- left_join(final_data, gdp_data, c("Entity", "Year"))
View(final_data)
final_data <- inner_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
final_data <- left_join(final_data, gdp_data, c("Entity", "Year"))
View(final_data)
View(cum_bmi)
cum_bmi$Entity[cum_bmi$Entity == "United States of America"] <- "United States"
cum_bmi$Entity.isna() <- "United States"
cum_bmi <- data.frame(Entity = male_bmi$Country.Region.World, Year = male_bmi$Year, mean_bmi = (male_bmi[,4] + female_bmi[,4])/2, percent_obesity = (male_bmi[,5] + female_bmi[,5])/2, percent_severe_obesity = (male_bmi[,6] + female_bmi[,6])/2)
cum_bmi[cum_bmi$Entity == "United States of America"] <- "United States"
cum_bmi[which(cum_bmi[,1] == "United States of America")] <- "United States"
cum_bmi <- data.frame(Entity = male_bmi$Country.Region.World, Year = male_bmi$Year, mean_bmi = (male_bmi[,4] + female_bmi[,4])/2, percent_obesity = (male_bmi[,5] + female_bmi[,5])/2, percent_severe_obesity = (male_bmi[,6] + female_bmi[,6])/2)
cum_bmi[cum_bmi == "United States of America"] <- "United States"
cum_bmi$Entity<-cum_bmi$Entity %>%
as.character()
cum_bmi[cum_bmi == "United States of America"] <- "United States"
cum_bmi$Entity<-cum_bmi$Entity %>%
as.factor()
final_data <- inner_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
final_data <- left_join(final_data, gdp_data, c("Entity", "Year"))
cum_bmi <- data.frame(Entity = male_bmi$Country.Region.World, Year = male_bmi$Year, mean_bmi = (male_bmi[,4] + female_bmi[,4])/2, percent_obesity = (male_bmi[,5] + female_bmi[,5])/2, percent_severe_obesity = (male_bmi[,6] + female_bmi[,6])/2)
cum_bmi$Entity<-cum_bmi$Entity %>%
as.character()
cum_bmi[cum_bmi == "United States of America"] <- "United States"
cum_bmi$Entity<-cum_bmi$Entity %>%
as.factor()
final_data <- inner_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
final_data <- left_join(final_data, gdp_data, c("Entity", "Year"))
final_data %>%
group_by(Year) %>%
arange(desc(GDP))
?arrange
final_data %>%
group_by(Year) %>%
arrange(desc(GDP))
View(final_data)
names(gdp_data)[3] <- 'GDP_Per_Capita'
final_data <- inner_join(cardiovasc_deaths, cum_bmi, c("Entity", "Year"))
final_data <- left_join(final_data, gdp_data, c("Entity", "Year"))
final_data$Entity %>%
unique() %>%
length()
final_data$Entity %>%
unique() %>%
length()/3
year_data <- final_data %>%
group_by(Year) %>%
arrange(desc(GDP_Per_Capita)) %>%
n(59)
?n
year_data <- final_data %>%
group_by(Year) %>%
arrange(desc(GDP_Per_Capita)) %>%
n()
View(year_data)
?subset
?%in%
?"%in%"
final_data %>%
group_by(Year) %>%
arrange(desc(GDP_Per_Capita))
final_data %>%
arrange(desc(GDP_Per_Capita))
unique()
View(male_bmi)
View(final_data)
sorted<- final_data %>%
arrange(desc(GDP_Per_Capita))
View(sorted)
unique(sorted$Entity)
sorted$Entiy %>%
unique()[1:10,]
list <- unique(sorted$Entity)
list[1:10]
final_data$Entity %in% list
unique(final_data$Entity) %in% list
list %in% unique(final_data$Entity)
which(list %in% unique(final_data$Entity))
list
which(list[1:10] %in% unique(final_data$Entity))
list[1:10] %in% unique(final_data$Entity)
unique(final_data$Entity) %in% list[1:10]
rich_countries<-filter(final_data$Entity %in% list[1:10])
rich_countries<-final_data %>%
filter(final_data$Entity %in% list[1:10])
View(rich_countries)
ggplot( final_data,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, mean_bmi, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, severe_obesity, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, percent_severe_obesity, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, percent_severe_obesity, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, percent_severe_obesity, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, GDP_Per_Capita, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, GDP_Per_Capita, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, mean_bmi, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, percent_severe_obesity, color = Entity)) +
geom_line()
ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line()
install.packages("gridExtra")
library(gridExtra)
ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line() +
facet_grid(cols = c("percent_obesity", "cardiovasc_deaths", "GDP_Per_capita"))
ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line() +
facet_grid(cols = percent_obesity, cardiovasc_deaths, GDP_Per_capita)
ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line() +
facet_grid(cols = rich_countries$percent_obesity, rich_countries$cardiovasc_deaths, rich_countries$GDP_Per_capita)
ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line() +
facet_grid(cols = vars(rich_countries$percent_obesity, rich_countries$cardiovasc_deaths, rich_countries$GDP_Per_capita))
plot1 <- ggplot( rich_countries,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line()
plot2 <-ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line()
plot3 <-ggplot( rich_countries,
aes( Year, GDP_Per_Capita, color = Entity)) +
geom_line()
grid.arrange(plot1, plot2, plot3, ncol=3)
plot1 <- ggplot( rich_countries,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line() +
theme(legend.position = "none")
plot2 <-ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line() +
theme(legend.position = "none")
grid.arrange(plot1, plot2, plot3, ncol=3)
grid.arrange(plot1, plot2, plot3, nrow=3)
plot1 <- ggplot( rich_countries,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line() +
plot2 <-ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line() +
plot3 <-ggplot( rich_countries,
aes( Year, GDP_Per_Capita, color = Entity)) +
geom_line()
grid.arrange(plot1, plot2, plot3, nrow=3)
plot1 <- ggplot( rich_countries,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line() +
plot2 <-ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line() +
plot3 <-ggplot( rich_countries,
aes( Year, GDP_Per_Capita, color = Entity)) +
geom_line()
plot1 <- ggplot( rich_countries,
aes( Year, cardiovasc_deaths, color = Entity)) +
geom_line()
plot2 <-ggplot( rich_countries,
aes( Year, percent_obesity, color = Entity)) +
geom_line()
plot3 <-ggplot( rich_countries,
aes( Year, GDP_Per_Capita, color = Entity)) +
geom_line()
grid.arrange(plot1, plot2, plot3, nrow=3)
grid.arrange(plot1, plot2, plot3, nrow=3, top=textGrob("Times Series Data for Top 10 Wealthiest Countries"))
grid.arrange(plot1, plot2, plot3, nrow=3, top=text("Times Series Data for Top 10 Wealthiest Countries"))
library(grid)
library(grid)
grid.arrange(plot1, plot2, plot3, nrow=3, top=text("Times Series Data for Top 10 Wealthiest Countries"))
grid.arrange(plot1, plot2, plot3, nrow=3, top=textGrob("Times Series Data for Top 10 Wealthiest Countries"))
grid.arrange(plot1, plot2, plot3, nrow=3, top = textGrob("Time Series Data for Top 10 Countries by Wealth",gp=gpar(fontsize=20,font=3)))
grid.arrange(plot1, plot2, plot3, nrow=3, top = textGrob("Time Series Data for Top 10 Countries by Wealth",gp=gpar(fontsize=15,font=3)))
grid.arrange(plot1, plot2, plot3, nrow=3, top = textGrob("Time Series Data for Top 10 Countries by Wealth",gp=gpar(fontsize=10,font=3)))
grid.arrange(plot1, plot2, plot3, nrow=3, top = textGrob("Time Series Data for Top 10 Countries by Wealth",gp=gpar(fontsize=13,font=3)))
grid.arrange(plot1, plot2, plot3, nrow=3, top = textGrob("Time Series Data for Top 10 Countries by Wealth",gp=gpar(fontsize=13,font=2)))
install.packages("ggpubr")
library(ggpubr)
?ggarange
?ggpubr
library(ggpubr)
